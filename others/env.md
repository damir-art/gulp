# .env
## üîç –ß—Ç–æ –∑–∞ `.env` –∏ –∑–∞—á–µ–º –æ–Ω –Ω—É–∂–µ–Ω
–ù–µ –Ω—É–∂–µ–Ω –µ—Å–ª–∏ —É —Ç–µ–±—è –≤ package.json —É–∂–µ –ø—Ä–æ–ø–∏—Å–∞–Ω—ã –∫–æ–º–∞–Ω–¥—ã –≤ scripts –¥–ª—è dev –∏ prod. –ù—É–∂–µ–Ω –¥–ª—è –±–æ–ª—å—à–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å –∫—É—á–µ–π –Ω–∞—Å—Ç—Ä–æ–µ–∫-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —á–∏—Ç–∞–π –≤ –∫–æ–Ω—Ü–µ —Ñ–∞–π–ª–∞.

`.env` ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ–π **—Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª**, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ç—ã —É–∫–∞–∑—ã–≤–∞–µ—à—å **–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `NODE_ENV=production`). Gulp (–∏ Node.js –≤–æ–æ–±—â–µ) –º–æ–∂–µ—Ç –∏—Ö —á–∏—Ç–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –ø–∞–∫–µ—Ç–∞ [`dotenv`](https://www.npmjs.com/package/dotenv).

–≠—Ç–æ –Ω—É–∂–Ω–æ, —á—Ç–æ–±—ã **—É–¥–æ–±–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Ä–µ–∂–∏–º—ã**: dev/prod ‚Äî **–±–µ–∑ —Ä—É—á–Ω–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∫–æ–¥–∞** –∏–ª–∏ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –≤–≤–æ–¥–∞ –¥–ª–∏–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

---

## üí° –ö–∞–∫ —ç—Ç–æ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å:

1. –¢—ã —Å–æ–∑–¥–∞—ë—à—å —Ñ–∞–π–ª `.env`:

```dotenv
NODE_ENV=development
```

2. –í –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞ (–≥–¥–µ `gulpfile.js`) —Ç—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—à—å `dotenv`:

```bash
npm i dotenv
```

3. –í `gulpfile.js` –≤ —Å–∞–º–æ–º –Ω–∞—á–∞–ª–µ –¥–æ–±–∞–≤–ª—è–µ—à—å:

```js
import dotenv from 'dotenv';
dotenv.config();
```

4. –¢–µ–ø–µ—Ä—å `process.env.NODE_ENV` –±—É–¥–µ—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Å—Ç–∞–≤–ª—è—Ç—å—Å—è –∏–∑ `.env`**
   –ò —Ç–≤–æ–π `isProd` –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ —á–∞—Å—ã:

```js
const isProd = process.env.NODE_ENV === 'production';
```

---

## ‚úÖ –ß—Ç–æ —ç—Ç–æ –¥–∞—ë—Ç —Ç–µ–±–µ:

| –ë–µ–∑ `.env`                      | –° `.env`                        |
| ------------------------------- | ------------------------------- |
| `NODE_ENV=production npx gulp`  | –ü—Ä–æ—Å—Ç–æ `npx gulp`               |
| –ù–∞–¥–æ –ø–æ–º–Ω–∏—Ç—å, –≥–¥–µ –ø–∏—Å–∞—Ç—å prod   | –ü—Ä–æ—Å—Ç–æ –ø—Ä–∞–≤–∏—à—å `.env`           |
| –í—Ä—É—á–Ω—É—é –º–µ–Ω—è–µ—à—å —Ñ–ª–∞–≥ –≤ gulpfile | –û–¥–∏–Ω —Ñ–∞–π–ª ‚Äî –∏ –≤—Å—ë –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è |

---

## üìÇ –ü—Ä–∏–º–µ—Ä `.env` —Ñ–∞–π–ª–∞:

**`.env`** (–≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞):

```
NODE_ENV=development
```

–ê –∫–æ–≥–¥–∞ –∑–∞—Ö–æ—á–µ—à—å —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ–¥:

```
NODE_ENV=production
```

---

## ü§î –¢–∞–∫ –Ω—É–∂–µ–Ω –ª–∏ `.env`, –µ—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å `scripts`?

**–ö—Ä–∞—Ç–∫–∏–π –æ—Ç–≤–µ—Ç:**

> ‚ùå **–ù–µ—Ç, –Ω–µ –Ω—É–∂–µ–Ω.**

---

## üì¶ –ü–æ—á–µ–º—É `scripts` ‚Äî —ç—Ç–æ –∫—Ä—É—á–µ `.env`:

| `scripts` (—Å–µ–π—á–∞—Å)                                                | `.env`                             |
| ----------------------------------------------------------------- | ---------------------------------- |
| ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –ª—é–±–æ–≥–æ CI/CD                                       | ‚ö†Ô∏è –ù—É–∂–Ω–æ —Å–ª–µ–¥–∏—Ç—å –∑–∞ —Ñ–∞–π–ª–æ–º –≤—Ä—É—á–Ω—É—é |
| ‚úÖ –ö–æ–º–∞–Ω–¥–∞ —è–≤–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç —á—Ç–æ –¥–µ–ª–∞–µ—Ç (`npm run dev`, `npm run prod`) | ‚ö†Ô∏è –ù–µ –≤–∏–¥–Ω–æ, —á—Ç–æ —Ç–∞–º –∑–∞ —Ä–µ–∂–∏–º      |
| ‚úÖ –õ–µ–≥–∫–æ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Ä–µ–∂–∏–º                                         | ‚ö†Ô∏è –ù–∞–¥–æ –ø—Ä–∞–≤–∏—Ç—å `.env` –∫–∞–∂–¥—ã–π —Ä–∞–∑  |
| ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –≤–æ –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º–∞—Ö                                 | ‚ö†Ô∏è –ú–æ–∂–µ—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ `dotenv`  |
| ‚úÖ –ù–µ —Ç—Ä–µ–±—É–µ—Ç –ª–∏—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π                                  | ‚ö†Ô∏è –ù–∞–¥–æ —Å—Ç–∞–≤–∏—Ç—å `dotenv`           |

–ï—Å–ª–∏ —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å:

```json
"scripts": {
  "dev": "gulp build",                            // dev mode
  "prod": "cross-env NODE_ENV=production gulp build", // prod mode
  "serve": "gulp"                                 // –∑–∞–ø—É—Å–∫ –ª–∞–π–≤-—Å–µ—Ä–≤–µ—Ä–∞
}
```

üí° –≠—Ç–æ **–∏ –µ—Å—Ç—å –ª—É—á—à–∏–π —Å–ø–æ—Å–æ–±** —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è. `.env` –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ ‚Äî **–∏–∑–±—ã—Ç–æ—á–µ–Ω** –∏ –¥–∞–∂–µ –º–æ–∂–µ—Ç **–∑–∞–ø—É—Ç–∞—Ç—å**, –ø–æ—Ç–æ–º—É —á—Ç–æ —Å—Ç–∞–Ω–µ—Ç –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ ‚Äî –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É `.env` –∏–ª–∏ `scripts`.

---

## üß† –ö–æ–≥–¥–∞ `.env` –±—ã–ª –±—ã –ø–æ–ª–µ–∑–µ–Ω?
–í–æ—Ç –ø—Ä–∏–º–µ—Ä—ã, –≥–¥–µ `.env` –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω:
* –ö–æ–≥–¥–∞ –ø—Ä–æ–µ–∫—Ç **–æ–≥—Ä–æ–º–Ω—ã–π**, –∏ –∏–º–µ—é—Å—è –¥–µ—Å—è—Ç–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤: –∫–ª—é—á–∏ API, –ø—É—Ç–∏, —Ç–æ–∫–µ–Ω—ã.
* –ö–æ–≥–¥–∞ –Ω–µ —Ö–æ—á–µ—à—å/–Ω–µ –º–æ–∂–µ—à—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `cross-env` (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤ Windows cmd –±–µ–∑ –æ–±–æ–ª–æ—á–∫–∏).
* –ö–æ–≥–¥–∞ –¥–µ–ø–ª–æ–∏—à—å —á–µ—Ä–µ–∑ CI/CD –∏ `.env` ‚Äî —Å–ø–æ—Å–æ–± –ø–µ—Ä–µ–¥–∞—Ç—å —Å–µ–∫—Ä–µ—Ç—ã.

---

## ‚úÖ –í—ã–≤–æ–¥:
–¢—ã —Ä–∞–±–æ—Ç–∞–µ—à—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:
* ‚úÖ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å `scripts` –≤ `package.json`
* ‚úÖ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å `cross-env` –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
* ‚úÖ —É–∂–µ —É–ø—Ä–∞–≤–ª—è–µ—à—å `NODE_ENV` –±–µ–∑ –∫–æ—Å—Ç—ã–ª–µ–π

üëâ –¢–∞–∫ —á—Ç–æ **–æ—Å—Ç–∞–≤—å –≤—Å—ë –∫–∞–∫ –µ—Å—Ç—å**, `.env` —Ç–µ–±–µ **–Ω–µ –Ω—É–∂–µ–Ω**.
---